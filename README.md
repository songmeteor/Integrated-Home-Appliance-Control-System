# 💨 Smart Air Conditioner System (FPGA 기반 스마트 공조기)

📄 **프로젝트 문서**: [스마트 공조기 노션 링크](https://lopsided-tray-d39.notion.site/Integrated-Home-Appliance-Control-System-23504872d73a8021aafcc5156deb7a57)

> **Verilog 기반 온습도/거리 센서 제어 및 공조기 자동/수동 운전 시스템**

---

## 📌 프로젝트 개요

- **온습도 감지, 거리 감지, FAN/부저 제어, 시계/전자레인지 기능 통합**  
- **Verilog 기반 FSM으로 센서 데이터 처리 및 상태 전환 설계**  
- **Basys3 보드와 다양한 센서/액추에이터를 연동한 종합 시스템 구현**

---

## ⚙️ 주요 구성 요소

| 구성요소       | 설명                                                   |
|----------------|--------------------------------------------------------|
| **MCU/FPGA**    | Basys3 (Xilinx Artix-7)                                |
| **센서**        | DHT11 (온습도), HC-SR04 (초음파 거리 센서)            |
| **액추에이터**  | DC 모터 (공조기 팬), 서보모터(도어), Piezo 부저       |
| **제어 논리**   | FSM + 상태전이 기반 Verilog HDL로 구성               |
| **입출력 UI**   | FND 4자리 출력, 버튼 5개 (U/D/L/C/Reset), 스위치 2개  |

---

## 💡 핵심 기능

- ✅ **AUTO 모드**: 온도·습도에 따라 FAN 속도 LEVEL 자동 조정 (LEVEL 0~3)
- ✅ **MANUAL 모드**: 사용자가 원하는 희망 온도 설정 → 냉방/난방 자동 제어
- ✅ **초음파 센서**: 거리 5cm 이내 접근 시 FAN 정지 + 부저 경고음 출력
- ✅ **시계 & 스탑워치 모드**: 버튼을 통한 모드 전환 및 타이머 기능 수행
- ✅ **전자레인지 모드**: 분/초 설정 및 동작 상태별 LED·부저 알림

---

## 🔧 사용 기술

- **Verilog HDL**을 활용한 FSM 기반 센서 데이터 처리 및 출력 제어
- **UART 출력**을 통해 온도/습도/거리 실시간 시리얼 통신 모니터링
- **PWM 신호**로 모터 속도 제어 및 회전 방향 설정
- **FND 출력 시 분기별 정보 표시 로직 (온도, 습도, 거리, 상태 등)**

---

## 🧠 문제 해결 및 개선

- 🔸 **DHT11 측정 정확도 개선**: Off-by-One 에러 해결 → 타이머 예약 실행 방식으로 변경  
- 🔸 **센서 미응답 시 교착 상태 방지**: 타임아웃 FSM 상태 도입으로 예외 처리 설계  
- 🔸 **래치 발생 방지**: if-else/case-default 구조를 사용해 조합 논리 안정성 확보  
- 🔸 **전원 안정화**: DC 모터 및 초음파 센서 동작을 위한 별도 전원 설계

---

## 🖼️ 전체 시스템 통합

- 스마트 공조기, 시계, 전자레인지 기능을 하나의 시스템으로 통합하여 FSM 기반 모드 전환 처리  
- 하나의 FND와 버튼 구성으로 멀티모드 제어 및 센서 연동 로직 설계 완료  
